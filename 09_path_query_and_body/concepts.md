# Concepts: FastAPI と Pydantic

このファイルでは、  
09章で暗黙的に使われている **Pydantic** について補足します。

README やコードを読んで  
「なぜこう動くのか？」と感じたときのための説明です。

---

## Pydantic とは

Pydantic は、**データの形と型を定義し、検証するためのライブラリ**です。

FastAPI は、リクエストで受け取る値を処理する際に、
内部で Pydantic を利用しています。

---

## FastAPI と Pydantic の関係

役割は明確に分かれています。

- **FastAPI**
  - HTTP リクエストを受け取る
  - Path / Query / Body を判別する
- **Pydantic**
  - 受け取った値を型に変換する
  - 値が妥当かどうかを検証する

FastAPI で型ヒントを書いた瞬間、  
その検証処理は Pydantic に委ねられます。

---

## 型変換と検証

HTTP リクエストで届く値は、基本的に **文字列**です。

Pydantic はそれを、

- 指定された型に変換し
- 変換できなければ「不正な入力」と判断します

この判断結果をもとに、  
FastAPI はエラーレスポンスを返します。

---

## 「省略可能かどうか」はどこで決まるか

値が

- 必須か
- 省略可能か

は、**関数の引数定義**によって決まります。

- 型ヒント
- デフォルト値の有無

これらの情報を、Pydantic が解釈しています。

これは FastAPI 独自のルールではなく、  
**Pydantic の振る舞い**です。

---

## この章での位置づけ

09章では、

- Pydantic を直接使いこなす
- Validation を細かく制御する
- エラー内容をカスタマイズする

といったことは行いません。

目的は、

**「定義によって挙動が決まっている」ことを理解すること**

です。

詳細な Validation や Error Handling は、  
次章以降で扱います。
